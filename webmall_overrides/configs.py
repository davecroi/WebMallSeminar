from .benchmark import WebMallBenchmark
import numpy as np
from browsergym.experiments.benchmark.configs import DEFAULT_HIGHLEVEL_ACTION_SET_ARGS
from .utils import make_env_args_list_from_repeat_tasks
from browsergym.experiments.benchmark.metadata.utils import (
    task_metadata,
    task_list_from_metadata,
)

WEBMALL_BENCHMARKS = {
    "webmall_v0.7": lambda: WebMallBenchmark(
        name="webmall_v0.7",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=task_list_from_metadata(metadata=task_metadata("webmall")),
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_j_v0.7": lambda: WebMallBenchmark(
        name="webmall_j_v0.7",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Checkout_Task1",
                "webmall.Webmall_Checkout_Task2",
                "webmall.Webmall_Checkout_Task3",
                "webmall.Webmall_Checkout_Task4",
                "webmall.Webmall_Checkout_Task5",
                "webmall.Webmall_Checkout_Task6",
                "webmall.Webmall_Checkout_Task7",
                "webmall.Webmall_Checkout_Task8",
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_basic_v0.7": lambda: WebMallBenchmark(
        name="webmall_basic_v0.7",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Specific_Product_Task1", 
                "webmall.Webmall_Find_Specific_Product_Task2", 
                "webmall.Webmall_Find_Specific_Product_Task3", 
                "webmall.Webmall_Find_Specific_Product_Task4", 
                "webmall.Webmall_Find_Specific_Product_Task5", 
                "webmall.Webmall_Find_Specific_Product_Task6", 
                "webmall.Webmall_Find_Specific_Product_Task7", 
                "webmall.Webmall_Find_Specific_Product_Task8", 
                "webmall.Webmall_Find_Specific_Product_Task9", 
                "webmall.Webmall_Find_Specific_Product_Task10", 
                "webmall.Webmall_Find_Specific_Product_Task11", 
                "webmall.Webmall_Find_Specific_Product_Task12", 
                "webmall.Webmall_Find_Cheapest_Offer_Task1", 
                "webmall.Webmall_Find_Cheapest_Offer_Task2", 
                "webmall.Webmall_Find_Cheapest_Offer_Task3", 
                "webmall.Webmall_Find_Cheapest_Offer_Task4", 
                "webmall.Webmall_Find_Cheapest_Offer_Task5", 
                "webmall.Webmall_Find_Cheapest_Offer_Task6", 
                "webmall.Webmall_Find_Cheapest_Offer_Task7", 
                "webmall.Webmall_Find_Cheapest_Offer_Task8", 
                "webmall.Webmall_Find_Cheapest_Offer_Task9", 
                "webmall.Webmall_Find_Cheapest_Offer_Task10",
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task1", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task2", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task3", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task4", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task5", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task6", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task7", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task8", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task9", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task10", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task11", 
                "webmall.Webmall_Add_To_Cart_Task1", 
                "webmall.Webmall_Add_To_Cart_Task2", 
                "webmall.Webmall_Add_To_Cart_Task3", 
                "webmall.Webmall_Add_To_Cart_Task4", 
                "webmall.Webmall_Add_To_Cart_Task5", 
                "webmall.Webmall_Add_To_Cart_Task6", 
                "webmall.Webmall_Add_To_Cart_Task7", 
                "webmall.Webmall_Checkout_Task1", 
                "webmall.Webmall_Checkout_Task2", 
                "webmall.Webmall_Checkout_Task3", 
                "webmall.Webmall_Checkout_Task4", 
                "webmall.Webmall_Checkout_Task5", 
                "webmall.Webmall_Checkout_Task6", 
                "webmall.Webmall_Checkout_Task7", 
                "webmall.Webmall_Checkout_Task8"
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_advanced_v0.7": lambda: WebMallBenchmark(
        name="webmall_advanced_v0.7",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Compatible_Products_Task1", 
                "webmall.Webmall_Find_Compatible_Products_Task2", 
                "webmall.Webmall_Find_Compatible_Products_Task3", 
                "webmall.Webmall_Find_Compatible_Products_Task4", 
                "webmall.Webmall_Find_Compatible_Products_Task5", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task1", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task2", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task3", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task4", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task5", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task6", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task7", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task8",
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task1", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task2", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task3", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task5", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task6", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task7", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task8", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task9", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task10", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task1", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task2", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task3", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task5", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task6", 
                "webmall.Webmall_Find_Substitutes_Task1", 
                "webmall.Webmall_Find_Substitutes_Task2", 
                "webmall.Webmall_Find_Substitutes_Task3", 
                "webmall.Webmall_Find_Substitutes_Task4", 
                "webmall.Webmall_Find_Substitutes_Task5", 
                "webmall.Webmall_Find_Substitutes_Task6",
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_tiny_v0.7": lambda: WebMallBenchmark(
        name="webmall_tiny_v0.7",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Specific_Product_Task4", 
                "webmall.Webmall_Find_Specific_Product_Task5",
                "webmall.Webmall_Find_Cheapest_Offer_Task4", 
                "webmall.Webmall_Find_Cheapest_Offer_Task5",
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task4", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task5",
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task4", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task5",
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task5",
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task5",
                "webmall.Webmall_Add_To_Cart_Task4", 
                "webmall.Webmall_Add_To_Cart_Task5",
                "webmall.Webmall_Find_Compatible_Products_Task4", 
                "webmall.Webmall_Find_Compatible_Products_Task5",
                "webmall.Webmall_Find_Substitutes_Task4", 
                "webmall.Webmall_Find_Substitutes_Task5",
                "webmall.Webmall_Checkout_Task4", 
                "webmall.Webmall_Checkout_Task5",
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_basic_v1.0": lambda: WebMallBenchmark(
        name="webmall_basic_v1.0",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Specific_Product_Task1", 
                "webmall.Webmall_Find_Specific_Product_Task2", 
                "webmall.Webmall_Find_Specific_Product_Task3", 
                "webmall.Webmall_Find_Specific_Product_Task4", 
                "webmall.Webmall_Find_Specific_Product_Task5", 
                "webmall.Webmall_Find_Specific_Product_Task6", 
                "webmall.Webmall_Find_Specific_Product_Task7", 
                "webmall.Webmall_Find_Specific_Product_Task8", 
                "webmall.Webmall_Find_Specific_Product_Task9", 
                "webmall.Webmall_Find_Specific_Product_Task10", 
                "webmall.Webmall_Find_Specific_Product_Task11", 
                "webmall.Webmall_Find_Specific_Product_Task12", 
                "webmall.Webmall_Find_Cheapest_Offer_Task1", 
                "webmall.Webmall_Find_Cheapest_Offer_Task2", 
                "webmall.Webmall_Find_Cheapest_Offer_Task3", 
                "webmall.Webmall_Find_Cheapest_Offer_Task4", 
                "webmall.Webmall_Find_Cheapest_Offer_Task5", 
                "webmall.Webmall_Find_Cheapest_Offer_Task6", 
                "webmall.Webmall_Find_Cheapest_Offer_Task7", 
                "webmall.Webmall_Find_Cheapest_Offer_Task8", 
                "webmall.Webmall_Find_Cheapest_Offer_Task9", 
                "webmall.Webmall_Find_Cheapest_Offer_Task10",
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task1", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task2", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task3", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task4", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task5", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task6", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task7", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task8", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task9", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task10", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task11", 
                "webmall.Webmall_Add_To_Cart_Task1", 
                "webmall.Webmall_Add_To_Cart_Task2", 
                "webmall.Webmall_Add_To_Cart_Task3", 
                "webmall.Webmall_Add_To_Cart_Task4", 
                "webmall.Webmall_Add_To_Cart_Task5", 
                "webmall.Webmall_Add_To_Cart_Task6", 
                "webmall.Webmall_Add_To_Cart_Task7", 
                "webmall.Webmall_Checkout_Task1", 
                "webmall.Webmall_Checkout_Task2", 
                "webmall.Webmall_Checkout_Task3", 
                "webmall.Webmall_Checkout_Task4", 
                "webmall.Webmall_Checkout_Task5", 
                "webmall.Webmall_Checkout_Task6", 
                "webmall.Webmall_Checkout_Task7", 
                "webmall.Webmall_Checkout_Task8",
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_advanced_v1.0": lambda: WebMallBenchmark(
        name="webmall_advanced_v1.0",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Compatible_Products_Task1", 
                "webmall.Webmall_Find_Compatible_Products_Task2", 
                "webmall.Webmall_Find_Compatible_Products_Task3", 
                "webmall.Webmall_Find_Compatible_Products_Task4", 
                "webmall.Webmall_Find_Compatible_Products_Task5", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task1", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task2", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task3", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task4", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task5", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task6", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task7", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task8",
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task1", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task2", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task3", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task5", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task6", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task7", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task8", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task9", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task10", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task1", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task2", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task3", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task5", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task6", 
                "webmall.Webmall_Find_Substitutes_Task1", 
                "webmall.Webmall_Find_Substitutes_Task2", 
                "webmall.Webmall_Find_Substitutes_Task3", 
                "webmall.Webmall_Find_Substitutes_Task4", 
                "webmall.Webmall_Find_Substitutes_Task5", 
                "webmall.Webmall_Find_Substitutes_Task6",
                "webmall.Webmall_EndToEnd_Task1", 
                "webmall.Webmall_EndToEnd_Task2", 
                "webmall.Webmall_EndToEnd_Task3", 
                "webmall.Webmall_EndToEnd_Task4", 
                "webmall.Webmall_EndToEnd_Task5", 
                "webmall.Webmall_EndToEnd_Task6", 
                "webmall.Webmall_EndToEnd_Task7", 
                "webmall.Webmall_EndToEnd_Task8"
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
    "webmall_tiny_v1.0": lambda: WebMallBenchmark(
        name="webmall_tiny_v1.0",
        high_level_action_set_args=DEFAULT_HIGHLEVEL_ACTION_SET_ARGS["webarena"],
        is_multi_tab=True,
        supports_parallel_seeds=True,
        backends=["webmall"],
        env_args_list=make_env_args_list_from_repeat_tasks(
            task_list=[
                "webmall.Webmall_Find_Specific_Product_Task4", 
                "webmall.Webmall_Find_Specific_Product_Task5",
                "webmall.Webmall_Find_Cheapest_Offer_Task4", 
                "webmall.Webmall_Find_Cheapest_Offer_Task5",
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task4", 
                "webmall.Webmall_Products_Fulfilling_Specific_Requirements_Task5",
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task4", 
                "webmall.Webmall_Products_Satisfying_Vague_Requirements_Task5",
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Specific_Requirements_Task5",
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task4", 
                "webmall.Webmall_Cheapest_Offer_Vague_Requirements_Task5",
                "webmall.Webmall_Add_To_Cart_Task4", 
                "webmall.Webmall_Add_To_Cart_Task5",
                "webmall.Webmall_Find_Compatible_Products_Task4", 
                "webmall.Webmall_Find_Compatible_Products_Task5",
                "webmall.Webmall_Find_Substitutes_Task4", 
                "webmall.Webmall_Find_Substitutes_Task5",
                "webmall.Webmall_Checkout_Task4", 
                "webmall.Webmall_Checkout_Task5",
                "webmall.Webmall_EndToEnd_Task4",
                "webmall.Webmall_EndToEnd_Task5",
            ],
            max_steps=50,
            n_repeats=1,
            seeds_rng=np.random.RandomState(42),
        ),
        task_metadata=task_metadata("webmall"),
    ),
}
